<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Les problèmes du commissaire Numéric</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f0f8ff; }
    h1 { text-align: center; color: #003366; }
    .quiz-container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 0 12px rgba(0,0,0,0.2); }
    .question { font-weight: bold; margin-top: 20px; }
    .choices { margin: 10px 0; }
    .choices button { display: block; margin: 5px 0; padding: 10px; width: 100%; border-radius: 8px; border: 1px solid #ccc; background: #f9f9f9; cursor: pointer; font-size: 16px; }
    .choices button:hover { background: #dceeff; }
    .feedback { margin-top: 10px; font-weight: bold; }
    .correct { color: green; }
    .wrong { color: red; }
    #score { text-align: center; font-size: 20px; font-weight: bold; margin-top: 20px; }
    #restart { display: none; margin: 20px auto; padding: 10px 20px; border: none; border-radius: 8px; background: #003366; color: white; cursor: pointer; font-size: 18px; }
    #restart:hover { background: #005599; }
  </style>
</head>
<body>
  <h1>Les problèmes du commissaire Numéric</h1>
  <div class="quiz-container">
    <div id="quiz"></div>
    <div id="score"></div>
    <button id="restart" onclick="restartQuiz()">Recommencer le quiz</button>
  </div>
<script>
const questions = [
  { q: "<strong>A. Numération et opérations</strong>", choices: [], correct: null, section: true },
  { q: "1. La bibliothèque de l'école possède 2457 livres. Les élèves en empruntent 154. Combien reste-t-il de livres ?", choices: ["2310 livres", "2303 livres", "1945 livres"], correct: 1 },
  { q: "2. Un boulanger a préparé 350 pains. Il en vend 128 le matin et 145 l'après-midi. Combien lui reste-t-il ?", choices: ["77 pains", "79 pains", "75 pains"], correct: 0 },
  { q: "3. Pour une excursion, il faut 3 bus. Chaque bus transporte 52 enfants. Combien d'enfants peuvent partir ?", choices: ["150 enfants", "157 enfants", "160 enfants"], correct: 1 },
  { q: "4. La maîtresse distribue 120 feutres aux 24 élèves. Combien chaque élève reçoit-il ?", choices: ["7 feutres", "4 feutres", "5 feutres"], correct: 2 },
  { q: "5. Zoé a 10 €. Elle achète 3 paquets de biscuits à 2 € et un jus à 1,50 €. Combien lui reste-t-il ?", choices: ["2,50 €", "1,50 €", "2 €"], correct: 0 },
  { q: "6. Un fermier récolte 450 œufs. Il les emballe dans des boîtes de 6. Combien de boîtes peut-il remplir ?", choices: ["70 boîtes", "79 boîtes", "75 boîtes"], correct: 2 },
  { q: "7. Une famille parcourt 850 km. Jour 1: 425 km. Jour 2: 250 km. Combien reste-t-il ?", choices: ["178 km", "174 km", "175 km"], correct: 2 },
  { q: "8. La cantine sert 180 repas. 15 absents. Combien de repas servis ?", choices: ["165 repas", "169 repas", "170 repas"], correct: 0 },
  { q: "9. Une équipe marque 5 buts puis le double. Total ?", choices: ["10 buts", "20 buts", "15 buts"], correct: 2 },
  { q: "10. Cinéma : 125 billets après-midi, soir 80 de moins. Total ?", choices: ["175 billets", "173 billets", "170 billets"], correct: 2 },
  { q: "<strong>B. Grandeurs et mesures</strong>", choices: [], correct: null, section: true },
  { q: "11. Tom a une corde de 3m50 et une autre de 2m80. Longueur totale ?", choices: ["6m30", "6m20", "5m30"], correct: 0 },
  { q: "12. Soupe : 500g carottes + 300g pommes de terre + 150g poireaux. Masse totale ?", choices: ["1 kg", "950 kg", "950 g"], correct: 2 },
  { q: "13. Train part 10h15, trajet 1h30. Heure d’arrivée ?", choices: ["11h47", "11h45", "10h45"], correct: 1 },
  { q: "14. Arrosoir 10 L. Déjà 2,5 L versés. Combien reste ?", choices: ["8,5 L", "7,5 L", "7,5 cL"], correct: 1 },
  { q: "15. Course 5 km. Léa a parcouru 3500 m. Combien reste ?", choices: ["1500 m", "15000 m", "150 m"], correct: 0 },
  { q: "16. Bouteille 1,5 L. Verres 25 cL. Combien de verres ?", choices: ["5", "8", "6"], correct: 2 },
  { q: "17. 250 g farine pour 1 gâteau. 4 gâteaux. Besoin total ?", choices: ["1000 g", "1,2 kg", "10000 g"], correct: 0 },
  { q: "18. Film de 14h à 15h35. Durée ?", choices: ["1h40", "1h35", "1h36"], correct: 1 },
  { q: "19. Livre 2 cm. 10 empilés. Hauteur en mm ?", choices: ["200 mm", "20 cm", "2 m"], correct: 0 },
  { q: "20. Camion charge max 1 t. Sacs 50 kg. Combien de sacs max ?", choices: ["15", "12", "20"], correct: 2 },
  { q: "<strong>C. Géométrie et fractions</strong>", choices: [], correct: null, section: true },
  { q: "21. Périmètre carré = 32 cm. Longueur côté ?", choices: ["8 mm", "8 cm", "10 cm"], correct: 1 },
  { q: "22. Jardin rectangle 10m x 5m. Aire ?", choices: ["500 m²", "5 m²", "50 m²"], correct: 2 },
  { q: "23. Gâteau 8 parts. Louis en mange 2 et Marie 3. Fraction ?", choices: ["5/8", "9/5", "3/8"], correct: 0 },
  { q: "24. Carré de 4 cm côté. Périmètre ?", choices: ["20 cm", "16 m", "16 cm"], correct: 2 },
  { q: "25. Classe 25 élèves, 3/5 garçons. Combien ?", choices: ["16", "15", "14"], correct: 1 },
  { q: "26. Rectangle aire 24 cm² ?", choices: ["5x4", "6x4", "6x5"], correct: 1 },
  { q: "27. Tarte coupée 6 parts. Léonie en mange 1. Fraction ?", choices: ["1/7", "1/6", "tout"], correct: 1 },
  { q: "28. Carré côté 7cm, rectangle 8x6. Qui a le plus grand périmètre ?", choices: ["carré", "rectangle", "même périmètre"], correct: 2 },
  { q: "29. Tablette 24 carreaux. On en mange 1/3. Combien ?", choices: ["3", "24", "8"], correct: 2 },
  { q: "30. Triangle équilatéral périmètre 18 cm. Côté ?", choices: ["6 cm", "6 m", "6 mm"], correct: 0 },
  { q: "31. Mur 5x3 m. Carrelage 1 m². Combien ?", choices: ["20", "15", "12"], correct: 1 },
  { q: "32. Planche 1,20 m. On coupe 1/4. Longueur coupée ?", choices: ["30 m", "300 mm", "30 cm"], correct: 2 },
  { q: "<strong>Défis logiques</strong>", choices: [], correct: null, section: true },
  { q: "1. Sacs de bonbons (5, 8, 12). Faire 25. Moins de sacs ?", choices: ["8+2x10", "5+2x10", "2x12"], correct: 1 },
  { q: "2. Train Charleroi, 4 wagons. Ordre ?", choices: ["Vert-jaune-rouge-bleu", "Rouge-bleu-vert-jaune", "Jaune-vert-bleu-rouge"], correct: 2 },
  { q: "3. Classe les enfants du plus jeune au plus vieux (Lise, Tom, Zoé, Louis).", choices: ["Zoé–Tom–Lise–Louis", "Louis–Tom–Zoé–Lise", "Louis–Zoé–Tom–Lise"], correct: 2 },
  { q: "4. Immeuble 5 étages. Où vivent Léo, Sacha, Marie, Chloé ?", choices: ["Léo 2e, Sacha 1er, Marie 2e, Chloé 5e", "Chloé 0, Léo+Marie 1, Sacha 5", "Chloé 0, Léo+Sacha 1, Marie 5"], correct: 2 },
  { q: "5. Bougie brûle en 2h. 3 bougies ensemble ?", choices: ["2h", "1h puis 2h", "3h"], correct: 0 },
  { q: "6. Tiroir : 8 bleues, 8 rouges. Dans le noir. Paires ?", choices: ["4", "3", "6"], correct: 1 },
  { q: "7. 12 allumettes → 6 carrés ?", choices: ["1 grand carré", "5 petits carrés", "2 grands carrés"], correct: 0 },
  { q: "<strong>Problèmes variés</strong>", choices: [], correct: null, section: true },
  { q: "1. Tom a 15 cartes Pokémon + 32. Total ?", choices: ["37", "48", "47"], correct: 1 },
  { q: "2. Boulangerie : 50 croissants matin, reste 18. Vendus ?", choices: ["32", "36", "30"], correct: 0 },
  { q: "3. Boîte 8 feutres. 6 boîtes. Total ?", choices: ["46", "48", "49"], correct: 1 },
  { q: "4. Léa a 25 billes. Tas de 5. Combien ?", choices: ["6 tas", "25 tas", "5 tas"], correct: 2 },
  { q: "5. 48 pommes à répartir en 4 caisses. Par caisse ?", choices: ["48", "12", "4"], correct: 1 },
  { q: "6. Livre 12 € + jeu 25 €. Marc paie 50 €. Monnaie ?", choices: ["14 €", "13 €", "15 €"], correct: 1 },
  { q: "7. Léopold 142 cm, frère 89 cm. Différence ?", choices: ["530 mm", "530 cm", "53 cm"], correct: 2 },
  { q: "8. Bonbons 2€ le paquet. Paul en achète 3. Prix ?", choices: ["3 €", "2 €", "6 €"], correct: 2 },
  { q: "9. Natation 14h30 + 45 min. Fin ?", choices: ["15h", "15h30", "15h15"], correct: 2 },
  { q: "10. Gâteau 8 parts. Lola en mange 2. Fraction ?", choices: ["1/8", "2/8", "3/8"], correct: 1 },
];

let currentQuestion = 0;
let score = 0;

function loadQuestion() {
  if (currentQuestion < questions.length) {
    const q = questions[currentQuestion];
    if (q.section) {
      document.getElementById("quiz").innerHTML = `<div class='question'>${q.q}</div>`;
      currentQuestion++;
      setTimeout(loadQuestion, 1500);
      return;
    }
    let html = `<div class='question'>${q.q}</div><div class='choices'>`;
    q.choices.forEach((choice, index) => {
      html += `<button onclick="checkAnswer(${index})">${choice}</button>`;
    });
    html += "</div><div id='feedback' class='feedback'></div>";
    document.getElementById("quiz").innerHTML = html;
  } else {
    document.getElementById("quiz").innerHTML = "";
    document.getElementById("score").innerText = `Ton score final : ${score}/${questions.filter(q => !q.section).length}`;
    document.getElementById("restart").style.display = "block";
  }
}

function checkAnswer(choice) {
  const q = questions[currentQuestion];
  const feedback = document.getElementById("feedback");
  if (choice === q.correct) {
    feedback.innerHTML = "<span class='correct'>✅ Correct !</span>";
    score++;
    currentQuestion++;
    setTimeout(loadQuestion, 1000);
  } else {
    feedback.innerHTML = "<span class='wrong'>❌ Mauvais choix, recommence.</span>";
  }
}

function restartQuiz() {
  currentQuestion = 0;
  score = 0;
  document.getElementById("restart").style.display = "none";
  document.getElementById("score").innerText = "";
  loadQuestion();
}

loadQuestion();
</script>
</body>
</html>
